<script src="/assets/js/jq-topology.js"></script>
<script src="/assets/js/d3.v3.min.js"></script>
<style>
  #topo {
    display: inline-block;
    height: 350px;
    margin-bottom: 30px;
    margin-left: 30px;
    margin-right: 30px;
    margin-top: 10px;
    overflow-x: visible;
    overflow-y: visible;
    width: 900px;
  }
  .unit-container {
    padding-bottom: 0;
    padding-left: 10px;
    padding-right: 10px;
    padding-top: 10px;
  }
</style>
<div class="container-fluid main-container">

  <%= render(:partial => "/sidebar/adresource") %>
  <div class="main-content clearfix">
    <div class="breadcrumbs" id="breadcrumbs">
      <ul class="breadcrumb">
        <li>
          <i class="icon-home"></i>
          运行资源

			<span class="divider">
				<i class="icon-angle-right"></i>
			</span>
        </li>
        <li class="active">虚拟机管理</li>
      </ul>
      <!--.breadcrumb-->
    </div>
    <div id="content" class="page-content">

      <div class="page-header position-relative">
        <h1>
          虚拟机管理
          <small>
            <i class="icon-double-angle-right"></i>
            <span>业务概况</span>
          </small>
        </h1>
      </div>

      <div class="row-fluid">
        <div class="span6">
        <div class="profile-user-info profile-user-info-striped" id="unitserinfo">
          <div class="profile-info-row">
            <div class="profile-info-name">业务系统名称</div>
            <div class="profile-info-value">
              <span id="unitsername">Test</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">业务系统类型</div>
            <div class="profile-info-value">
              <span id="unitsernam">自有门户</span>
            </div>
          </div>

        </div>
        </div>
        <div class="span6" style="margin-left: 0;">
          <div class="profile-user-info profile-user-info-striped" id="unitserinf">

            <div class="profile-info-row">
              <div class="profile-info-name">业务系统编码</div>
              <div class="profile-info-value">
                <span id="unitsernae">e8f0aa48d6894461924a4a72f84f1ac8</span>
              </div>
            </div>
            <div class="profile-info-row">
              <div class="profile-info-name">业务系统状态</div>
              <div class="profile-info-value">
                <span id="unitserame">资源分配中</span>
              </div>
            </div>
          </div>
        </div>
      </div>
     </div>
  <div  class="page-content">
    <div class="page-header position-relative">
      <h1>
        虚拟机管理
        <small>
          <i class="icon-double-angle-right"></i>
          <span>业务拓扑图</span>
        </small>
      </h1>
    </div>
    <div id="topo" class="unit-container"></div>
   </div>

    <div  class="page-content">
      <div class="page-header position-relative">
        <h1>
          虚拟机管理
          <small>
            <i class="icon-double-angle-right"></i>
            <span>业务资源</span>
          </small>
        </h1>
      </div>


      <div class="widget-box transparent" id="recent-box">
        <div class="fc-widget-header">
          <div class="widget-toolbar no-border">
            <ul class="nav nav-tabs" id="myTab">

              <li class='active'><a data-toggle="tab" href="#tab1">业务容器</a></li>
              <li><a data-toggle="tab" href="#tab2">存储卷</a></li>
              <li><a data-toggle="tab" href="#tab3">公网IP</a></li>

            </ul>
          </div>
        </div>
        <div class="widget-body">
          <div class="widget-main padding-4">
            <div class="tab-content">
              <div id="tab1" class="tab-pane active">

                <%= render :partial => "/resource/container", :locals => {} %>
              </div>

              <div id="tab2" class="tab-pane">
                <%= render :partial => "/resource/storage", :locals => {} %>
              </div>

              <div id="tab3" class="tab-pane">
                <%= render :partial => "/resource/iplist", :locals => {} %>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>







<script type="text/javascript">
$(function(){
var json=new String('{"networks":[{"parameter":["0","0","100","100"],"nodes":[{"levelNodes":[{"name":"CMDB自动采集测试","ID":"402894784116d2db01414dff33c30038","type":"ownerSystem"}],"level":"1"},{"levelNodes":[{"name":"CMDB测试","ID":"402894784116d2db01414eb1247c0043","type":"ownerContainer"}],"level":"2"},{"levelNodes":[{"name":"cmdb-2","ID":"4028947341176b7e01414edf4e667569","type":"vguest"},{"name":"cmdb-1","ID":"4028947341176b7e01414edb8a3e742f","type":"vguest"}],"level":"3"}],"name":"wholeTopo","links":[{"endpoint2_ID":"402894784116d2db01414eb1247c0043","endpoint1_ID":"402894784116d2db01414dff33c30038","bandwidth":"2*10GE"},{"endpoint2_ID":"4028947341176b7e01414edf4e667569","endpoint1_ID":"402894784116d2db01414eb1247c0043","bandwidth":"2*10GE"},{"endpoint2_ID":"4028947341176b7e01414edb8a3e742f","endpoint1_ID":"402894784116d2db01414eb1247c0043","bandwidth":"2*10GE"}]}],"linksBetweenNetworks":[]}');
var json1=eval("(" + json + ")");
topology(json1,"topo","white",5,0,"blue",50,50,"grey",1,"black",15,10);});
</script>
